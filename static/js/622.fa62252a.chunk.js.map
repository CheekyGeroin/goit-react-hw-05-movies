{"version":3,"file":"static/js/622.fa62252a.chunk.js","mappings":"wPAEaA,EAAOC,EAAAA,EAAAA,KAAH,sBAEJC,EAAQD,EAAAA,EAAAA,MAAH,+CAILE,EAASF,EAAAA,EAAAA,OAAH,mJ,SCJNG,EAAY,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SACpC,GAAoCC,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KAeA,OACE,UAACT,EAAD,CAAMK,SAda,SAAAK,GACnBA,EAAEC,iBAEFN,EAASG,GACTF,EAASE,GAETC,EAAc,GACf,EAOC,WACE,SAACP,EAAD,CAAOU,KAAK,OAAON,SANF,SAAAI,GACnBD,EAAcC,EAAEG,cAAcC,MAAMC,cACrC,EAI8CD,MAAON,KAClD,SAACL,EAAD,CAAQS,KAAK,SAAb,sBAGL,E,8BCvBYI,GAAOf,EAAAA,EAAAA,GAAOgB,EAAAA,GAAPhB,CAAH,sBAEJiB,EAAOjB,EAAAA,EAAAA,GAAH,6ECUjB,EAXiB,SAAC,GAAmB,IAAjBkB,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,MAChBC,GAAWC,EAAAA,EAAAA,MACjB,OACE,UAACJ,EAAD,YACE,SAACF,EAAD,CAAMO,GAAE,UAAKJ,GAAMK,MAAO,CAAEC,KAAMJ,GAAlC,SACGD,KAEH,SAAC,KAAD,MAGL,ECZYM,EAAOzB,EAAAA,EAAAA,GAAH,sBCYjB,EAVc,SAAC,GAAc,IAAZ0B,EAAW,EAAXA,KACf,OACE,SAACD,EAAD,UACGC,EAAKC,OAAS,GACbD,EAAKE,KAAI,YAAoB,IAAjBV,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,MACd,OAAO,SAAC,EAAD,CAAmBD,GAAIA,EAAIC,MAAOA,GAAnBD,EACvB,KAGR,ECmCD,EArCe,WAAO,IAAD,EACnB,GAAgCZ,EAAAA,EAAAA,UAAS,IAAzC,eAAOuB,EAAP,KAAiBC,EAAjB,KACA,ECXsB,SAACC,EAAcC,GACrC,IAUA,GAA0B1B,EAAAA,EAAAA,WAVT,WACf,IAAM2B,EAAUC,aAAaC,QAAQH,GAErC,OAAIC,EACKG,KAAKC,MAAMJ,GAGbF,CACR,IAED,eAAOlB,EAAP,KAAcyB,EAAd,KAKA,OAJAC,EAAAA,EAAAA,YAAU,WACRL,aAAaM,QAAQR,EAAKI,KAAKK,UAAU5B,GAC1C,GAAE,CAACA,EAAOmB,IAEJ,CAACnB,EAAOyB,EAChB,CDNiCI,CAAgB,GAAI,SAApD,eAAOC,EAAP,KAAiBC,EAAjB,KACA,GAAsCC,EAAAA,EAAAA,MAAtC,eAAOC,EAAP,KAAoBC,EAApB,KACMC,EEdD,WACH,IAAIC,GAAUC,EAAAA,EAAAA,SAAO,GACrB,OAAID,EAAQE,SACRF,EAAQE,SAAU,GACX,GAEJF,EAAQE,OAClB,CFOuBC,GAChBC,EAAK,UAAGP,EAAYQ,IAAI,gBAAnB,QAA+B,GAoB1C,IANAf,EAAAA,EAAAA,YAAU,WACHS,IACHO,EAAAA,EAAAA,IAAa1B,GAAU2B,KAAKZ,EAE/B,GAAE,CAACf,EAAUmB,EAAeJ,IAExBD,EAIL,OACE,4BACE,SAACxC,EAAD,CAAWC,SAxBK,SAAAqD,GAClB,GAAoB,KAAhBA,EAAKC,OACP,OAAOC,EAAAA,GAAAA,MAAA,6BAET7B,EAAY2B,EACb,EAmBqCpD,SAjBf,SAAAgD,GAErBN,EAD4B,KAAVM,EAAe,CAAEA,MAAAA,GAAU,CAAC,EAE/C,IAec,KAAVA,IAAgB,SAAC,EAAD,CAAO3B,KAAMiB,MAGnC,EGlCD,EATmB,WAEjB,OACE,4BACE,SAAC,EAAD,KACA,SAAC,KAAD,MAGL,C","sources":["components/Movies/SearchBar/SearchBar.styled.jsx","components/Movies/SearchBar/SearchBar.jsx","components/Movies/FilmItem/FilmItem.styled.jsx","components/Movies/FilmItem/FilmItem.jsx","components/Movies/Films/Films.styled.jsx","components/Movies/Films/Films.jsx","components/Movies/Movies.jsx","components/services/useLocalStorage.jsx","../node_modules/react-use/esm/useFirstMountState.js","pages/MoviesPage.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const Form = styled.form``;\n\nexport const Input = styled.input`\n  margin-right: 15px;\n`;\n\nexport const Button = styled.button`\n  border-radius: 20px;\n  border: none;\n  padding: 5px 10px;\n  :active {\n    box-shadow: 2px 2px 2px 2px #bab8b8;\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport { Form, Input, Button } from './SearchBar.styled';\n\nexport const SearchBar = ({ onSubmit, onChange }) => {\n  const [searchItem, setSearchItem] = useState('');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    onSubmit(searchItem);\n    onChange(searchItem);\n\n    setSearchItem('');\n  };\n\n  const handleChange = e => {\n    setSearchItem(e.currentTarget.value.toLowerCase());\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Input type=\"text\" onChange={handleChange} value={searchItem} />\n      <Button type=\"submit\">Search</Button>\n    </Form>\n  );\n};\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n","import styled from '@emotion/styled';\nimport { NavLink } from 'react-router-dom';\n\nexport const Link = styled(NavLink)``;\n\nexport const Item = styled.li`\n  :not(:last-child) {\n    margin-bottom: 5px;\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { Outlet, useLocation } from 'react-router-dom';\nimport { Link, Item } from './FilmItem.styled';\n\nconst FilmItem = ({ id, title }) => {\n  const location = useLocation();\n  return (\n    <Item>\n      <Link to={`${id}`} state={{ from: location }}>\n        {title}\n      </Link>\n      <Outlet />\n    </Item>\n  );\n};\nexport default FilmItem;\n\nFilmItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n};\n","import styled from '@emotion/styled';\n\nexport const List = styled.ul``;\n","import FilmItem from '../FilmItem/FilmItem';\nimport PropTypes from 'prop-types';\nimport { List } from './Films.styled';\n\nconst Films = ({ list }) => {\n  return (\n    <List>\n      {list.length > 0 &&\n        list.map(({ id, title }) => {\n          return <FilmItem key={id} id={id} title={title} />;\n        })}\n    </List>\n  );\n};\nexport default Films;\n\nFilms.propTypes = {\n  list: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n","import { useState, useEffect } from 'react';\nimport { useFirstMountState } from 'react-use';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n// import Films from 'components/Movies/Films/Films';\nimport { SearchBar } from 'components/Movies/SearchBar/SearchBar';\nimport { searchMovies } from 'components/services/filmApi';\nimport { useSearchParams } from 'react-router-dom';\nimport Films from './Films/Films';\nimport { useLocalStorage } from 'components/services/useLocalStorage';\n\nconst Movies = () => {\n  const [filmName, setFilmName] = useState('');\n  const [filmList, setFilmList] = useLocalStorage([], 'films');\n  const [searchParam, setSearchParam] = useSearchParams();\n  const isFirstRender = useFirstMountState();\n  const query = searchParam.get('query') ?? '';\n\n  const getFilmName = name => {\n    if (name.trim() === '') {\n      return toast.error(`Please write name of film`);\n    }\n    setFilmName(name);\n  };\n\n  const updQueryString = query => {\n    const nextParam = query !== '' ? { query } : {};\n    setSearchParam(nextParam);\n  };\n\n  useEffect(() => {\n    if (!isFirstRender) {\n      searchMovies(filmName).then(setFilmList);\n    }\n  }, [filmName, isFirstRender, setFilmList]);\n\n  if (!filmList) {\n    return;\n  }\n\n  return (\n    <div>\n      <SearchBar onSubmit={getFilmName} onChange={updQueryString} />\n      {query !== '' && <Films list={filmList} />}\n    </div>\n  );\n};\n\nexport default Movies;\n","import { useState, useEffect } from \"react\";\n\nconst useLocalStorage = (initialValue, key) => { \n  const getValue = () => {\n    const storage = localStorage.getItem(key);  \n\n    if (storage) {\n      return JSON.parse(storage); \n    }\n\n    return initialValue; \n  };\n\n  const [value, setValue] = useState(getValue); \n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(value)); \n  }, [value, key]);\n\n  return [value, setValue]; \n}\n\nexport { useLocalStorage };","import { useRef } from 'react';\nexport function useFirstMountState() {\n    var isFirst = useRef(true);\n    if (isFirst.current) {\n        isFirst.current = false;\n        return true;\n    }\n    return isFirst.current;\n}\n","import Movies from \"components/Movies/Movies\"\nimport { Outlet } from \"react-router-dom\"\n\nconst MoviesPage = () => {\n  \n  return ( \n    <div>\n      <Movies />\n      <Outlet />\n    </div>\n  )\n}\nexport default MoviesPage"],"names":["Form","styled","Input","Button","SearchBar","onSubmit","onChange","useState","searchItem","setSearchItem","e","preventDefault","type","currentTarget","value","toLowerCase","Link","NavLink","Item","id","title","location","useLocation","to","state","from","List","list","length","map","filmName","setFilmName","initialValue","key","storage","localStorage","getItem","JSON","parse","setValue","useEffect","setItem","stringify","useLocalStorage","filmList","setFilmList","useSearchParams","searchParam","setSearchParam","isFirstRender","isFirst","useRef","current","useFirstMountState","query","get","searchMovies","then","name","trim","toast"],"sourceRoot":""}